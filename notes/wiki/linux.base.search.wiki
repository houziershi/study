
%title 查找

%toc 查找



= Find =

搜索指定目录下的文件，从开始于父目录，然后搜索子目录。

{{{class="brush: bash"
root@tecmint:~# find -name *.sh
 
./Desktop/load.sh
./Desktop/test.sh
./Desktop/shutdown.sh
./Binary/firefox/run-mozilla.sh
./Downloads/kdewebdev-3.5.8/quanta/scripts/externalpreview.sh
./Downloads/kdewebdev-3.5.8/admin/doxygen.sh
./Downloads/kdewebdev-3.5.8/admin/cvs.sh
./Downloads/kdewebdev-3.5.8/admin/ltmain.sh
./Downloads/wheezy-nv-install.sh
}}}

注意： `-name`选项是搜索大小写敏感。可以使用`-iname`选项，这样在搜索中可以忽略
大小写。（`*`是通配符，可以搜索所有的文件；`.sh`你可以使用文件名或者文件名的一
部分来制定输出结果）

{{{class="brush: bash"
root@tecmint:~# find -iname *.SH ( find -iname *.Sh /  find -iname *.sH)
 
./Desktop/load.sh
./Desktop/test.sh
./Desktop/shutdown.sh
./Binary/firefox/run-mozilla.sh
./Downloads/kdewebdev-3.5.8/quanta/scripts/externalpreview.sh
./Downloads/kdewebdev-3.5.8/admin/doxygen.sh
./Downloads/kdewebdev-3.5.8/admin/cvs.sh
./Downloads/kdewebdev-3.5.8/admin/ltmain.sh
./Downloads/wheezy-nv-install.sh

root@tecmint:~# find -name *.tar.gz
 
/var/www/modules/update/tests/aaa_update_test.tar.gz
./var/cache/flashplugin-nonfree/install_flash_player_11_linux.i386.tar.gz
./home/server/Downloads/drupal-7.22.tar.gz
./home/server/Downloads/smtp-7.x-1.0.tar.gz
./home/server/Downloads/noreqnewpass-7.x-1.2.tar.gz
./usr/share/gettext/archive.git.tar.gz
./usr/share/doc/apg/php.tar.gz
./usr/share/doc/festival/examples/speech_pm_1.0.tar.gz
./usr/share/doc/argyll/examples/spyder2.tar.gz
./usr/share/usb_modeswitch/configPack.tar.gz
}}}

注意：以上命令查找根目录下和所有文件夹以及加载的设备的子目录下的所有包含`tar.gz`
的文件。

== Basic Find Commands for Finding Files with Names ==

=== Find Files Using Name in Current Directory ===

Find all the files whose name is tecmint.txt in a current working directory.

{{{class="brush: bash"
# find . -name tecmint.txt

./tecmint.txt
}}}

=== Find Files Under Home Directory ===

Find all the files under `/home` directory with name `tecmint.txt`.

{{{class="brush: bash"
# find /home -name tecmint.txt

/home/tecmint.txt
}}}

=== Find Files Using Name and Ignoring Case ===

Find all the files whose name is `tecmint.txt` and contains both capital and 
small letters in `/home` directory.

{{{class="brush: bash"
# find /home -iname tecmint.txt

./tecmint.txt
./Tecmint.txt
}}}

=== Find Directories Using Name ===

Find all directories whose name is `Tecmint` in `/` directory.

{{{class="brush: bash"
# find / -type d -name Tecmint

/Tecmint
}}}

=== Find PHP Files Using Name ===

Find all php files whose name is `tecmint.php` in a current working directory.

{{{class="brush: bash"
# find . -type f -name tecmint.php

./tecmint.php
}}}

=== Find all PHP Files in Directory ===

Find all php files in a directory.

{{{class="brush: bash"
# find . -type f -name "*.php"

./tecmint.php
./login.php
./index.php
}}}

== Find Files Based on their Permissions ==

=== Find Files With `777` Permissions ===

Find all the files whose permissions are `777`.

{{{class="brush: bash"
# find . -type f -perm 0777 -print
}}}

=== Find Files Without 777 Permissions ===

Find all the files without permission `777`.

{{{class="brush: bash"
# find / -type f ! -perm 777
}}}

=== Find SGID Files with 644 Permissions ===

Find all the SGID bit files whose permissions set to `644`.

{{{class="brush: bash"
# find / -perm 2644
}}}

=== Find Sticky Bit Files with 551 Permissions ===

Find all the Sticky Bit set files whose permission are `551`.

{{{class="brush: bash"
# find / -perm 1551
}}}

=== Find SUID Files ===

Find all SUID set files.

{{{class="brush: bash"
# find / -perm /u=s
}}}

=== Find SGID Files ===

Find all SGID set files.

{{{class="brush: bash"
# find / -perm /g+s
}}}

=== Find Read Only Files ===

Find all Read Only files.

{{{class="brush: bash"
# find / -perm /u=r
}}}

=== Find Executable Files ===

Find all Executable files.

{{{class="brush: bash"
# find / -perm /a=x
}}}

=== Find Files with 777 Permissions and Chmod to 644 ===

Find all `777` permission files and use chmod command to set permissions to 
`644`.

{{{class="brush: bash"
# find / -type f -perm 0777 -print -exec chmod 644 {} \;
}}}

=== Find Directories with 777 Permissions and Chmod to 755 ===

Find all `777` permission directories and use chmod command to set permissions 
to `755`.

{{{class="brush: bash"
# find / -type d -perm 777 -print -exec chmod 755 {} \;
}}}

=== Find and remove single File ===

To find a single file called `tecmint.txt` and remove it.

{{{class="brush: bash"
# find . -type f -name "tecmint.txt" -exec rm -f {} \;
}}}

=== Find and remove Multiple File ===

To find and remove multiple files such as `.mp3` or `.txt`, then use.

{{{class="brush: bash"
# find . -type f -name "*.txt" -exec rm -f {} \;
}}}

OR

{{{class="brush: bash"
# find . -type f -name "*.mp3" -exec rm -f {} \;
}}}

=== Find all Empty Files ===

To file all empty files under certain path.

{{{class="brush: bash"
# find /tmp -type f -empty
}}}

=== Find all Empty Directories ===

To file all empty directories under certain path.

{{{class="brush: bash"
# find /tmp -type d -empty
}}}

=== File all Hidden Files ===

To find all hidden files, use below command.

{{{class="brush: bash"
# find /tmp -type f -name ".*"
}}}

== Search Files Based On Owners and Groups ==

=== Find Single File Based on User ===

To find all or single file called `tecmint.txt` under `/` root directory of 
owner root.

{{{class="brush: bash"
# find / -user root -name tecmint.txt
}}}

=== Find all Files Based on User ===

To find all files that belongs to user Tecmint under `/home` directory.

{{{class="brush: bash"
# find /home -user tecmint
}}}

=== Find all Files Based on Group ===

To find all files that belongs to group Developer under `/home` directory.

{{{class="brush: bash"
# find /home -group developer
}}}

=== Find Particular Files of User ===

To find all `.txt` files of user Tecmint under `/home` directory.

{{{class="brush: bash"
# find /home -user tecmint -iname "*.txt"
}}}


== Find Files and Directories Based on Date and Time ==

=== Find Last 50 Days Modified Files ===

To find all the files which are modified 50 days back.

{{{class="brush: bash"
# find / -mtime 50
}}}

=== Find Last 50 Days Accessed Files ===

To find all the files which are accessed 50 days back.

{{{class="brush: bash"
# find / -atime 50
}}}

=== Find Last 50-100 Days Modified Files ===

To find all the files which are modified more than 50 days back and less than 
100 days.

{{{class="brush: bash"
# find / -mtime +50 –mtime -100
}}}

=== Find Changed Files in Last 1 Hour ===

To find all the files which are changed in last 1 hour.

{{{class="brush: bash"
# find / -cmin -60
}}}

=== Find Modified Files in Last 1 Hour ===

To find all the files which are modified in last 1 hour.

{{{class="brush: bash"
# find / -mmin -60
}}}

=== Find Accessed Files in Last 1 Hour ===

To find all the files which are accessed in last 1 hour.

{{{class="brush: bash"
# find / -amin -60
}}}

== Find Files and Directories Based on Size ==

=== Find 50MB Files ===

To find all 50MB files, use.

{{{class="brush: bash"
# find / -size 50M
}}}

=== Find Size between 50MB – 100MB ===

To find all the files which are greater than 50MB and less than 100MB.

{{{class="brush: bash"
# find / -size +50M -size -100M
}}}

=== Find and Delete 100MB Files ===

To find all 100MB files and delete them using one single command.

{{{class="brush: bash"
# find / -size +100M -exec rm -rf {} \;
}}}

=== Find Specific Files and Delete ===

Find all `.mp3` files with more than `10MB` and delete them using one single 
command.

{{{class="brush: bash"
# find / -type f -name *.mp3 -size +10M -exec ls -l {} \;
}}}




= grep =

`grep`命令搜索指定文件中包含给定字符串或者单词的行。举例搜索`/etc/passwd`文件中
的`tecmint`

{{{class="brush: bash"
root@tecmint:~# grep tecmint /etc/passwd
 
tecmint:x:1000:1000:Tecmint,,,:/home/tecmint:/bin/bash
}}}

使用`-i`选项将忽略大小写。

{{{class="brush: bash"
root@tecmint:~# grep -i TECMINT /etc/passwd
 
tecmint:x:1000:1000:Tecmint,,,:/home/tecmint:/bin/bash
}}}

使用`-r`选项递归搜索所有自目录下包含字符串`127.0.0.1`的行。

{{{class="brush: bash"
root@tecmint:~# grep -r "127.0.0.1" /etc/
 
/etc/vlc/lua/http/.hosts:127.0.0.1
/etc/speech-dispatcher/modules/ivona.conf:#IvonaServerHost "127.0.0.1"
/etc/mysql/my.cnf:bind-address      = 127.0.0.1
/etc/apache2/mods-available/status.conf:    Allow from 127.0.0.1 ::1
/etc/apache2/mods-available/ldap.conf:    Allow from 127.0.0.1 ::1
/etc/apache2/mods-available/info.conf:    Allow from 127.0.0.1 ::1
/etc/apache2/mods-available/proxy_balancer.conf:#    Allow from 127.0.0.1 ::1
/etc/security/access.conf:#+ : root : 127.0.0.1
/etc/dhcp/dhclient.conf:#prepend domain-name-servers 127.0.0.1;
/etc/dhcp/dhclient.conf:#  option domain-name-servers 127.0.0.1;
/etc/init/network-interface.conf:   ifconfig lo 127.0.0.1 up || true
/etc/java-6-openjdk/net.properties:# localhost & 127.0.0.1).
/etc/java-6-openjdk/net.properties:# http.nonProxyHosts=localhost|127.0.0.1
/etc/java-6-openjdk/net.properties:# localhost & 127.0.0.1).
/etc/java-6-openjdk/net.properties:# ftp.nonProxyHosts=localhost|127.0.0.1
/etc/hosts:127.0.0.1    localhost
}}}

注意：您还可以使用以下选项：

* `-w`搜索单词 (`egrep -w ‘word1|word2‘ /path/to/file`).
* `-c`用于统计满足要求的行 (`grep -c ‘word‘ /path/to/file`).
* `–color`彩色输出 (`grep –color server /etc/passwd`).

{{{class="brush: bash"
}}}


{{{class="brush: bash"
}}}


{{{class="brush: bash"
}}}


{{{class="brush: bash"
}}}


{{{class="brush: bash"
}}}


{{{class="brush: bash"
}}}


{{{class="brush: bash"
}}}

