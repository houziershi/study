<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<script type="text/javascript" src="../../vimwiki-theme/code/theme/scripts/jquery-1.4.2.min.js"></script>

<link type="text/css" rel="stylesheet" href="../../vimwiki-theme/hightlight-code/styles/shCore.css"/>
<link type="text/css" rel="stylesheet" href="../../vimwiki-theme/hightlight-code/styles/shCoreRDark.css"/>
<link type="text/css" rel="stylesheet" href="../../vimwiki-theme/hightlight-code/styles/shThemeRDark.css"/>
<script type="text/javascript" src="../../vimwiki-theme/hightlight-code/scripts/shCore.js"></script>
<script type="text/javascript" src="../../vimwiki-theme/hightlight-code/scripts/shAutoloader.js"></script>

<link type="text/css" rel="stylesheet" href="../../vimwiki-theme/code/theme/styles/style.css" />

<script type="text/javascript" src="../../vimwiki-theme/code/theme/scripts/script.js"></script>


<title>javascirpt.example</title>
</head>
<body  onresize='changeTocSize()'>
	<div class="note-main"> 


<h3 id="toc_0.0.1">判断一个元素是否存在</h3>

<p>
使用传统javascript方法，如下：
</p>

<pre class="brush: javascript">
if(document.getElementById('div')) {    
    // 找到到对应元素
} else {    
    // 没有找到找到到对应元素
}
</pre>

<p>
使用jQuery则比较简单，只需判断此元素的长度是否为0，如果为0则此元素不存在，
代码如下：
</p>

<pre class="brush: javascript">
if ($("#div").length &gt; 0){
    // 找到对应id=div的元素，然后执行此块代码
}
</pre>

<p>
甚至能找到组合元素，如下，我们找一个id定义为div的元素里面是否包含img：
</p>

<pre class="brush: javascript">
if(document.querySelector("#div img")){
//found
}
</pre>

<p>
或用jquery： 
</p>

<pre class="brush: javascript">
if ($("#div img").length &gt; 0){
    // 找到对应id=div并且包含img的元素，然后执行此块代码
}
</pre>


<h3 id="toc_0.0.2">禁止页面滚动</h3>

<p>
页面滚动失效：
</p>

<pre class="brush: javascript">
$("body").css("overflow-y","hidden");
</pre>

<p>
恢复页面滚动：
</p>

<pre class="brush: javascript">
$("body").css("overflow-y","auto");
</pre>


<h3 id="toc_0.0.3">地址的跳转</h3>

<pre class="brush: javascript">
url = url + "&amp;sendTime=" + (new Date()).getSeconds();
url = encodeURI(url);
if( true == $('#toNewWindow').val() ) {
    window.open(url);
 } else {
    window.location = url;
    // document.location = url; //这样用了N年了
 }
</pre>

<h3 id="toc_0.0.4">jQuery修改表单提交目标</h3>

<pre class="brush: javascript">
$("#myForm").attr('action', url);
</pre>

<p>
=== jQuery请求提交 ==
</p>

<p>
序列化表单并提交
</p>

<pre class="brush: javascript">
var formData = $("#myForm").serialize();
</pre>

<p>
可能给已经序列化的表单加上新的内容
</p>

<pre class="brush: javascript">
formData = formData + "&amp;id=001&amp;name=Jade";
</pre>

<p>
也可以手动建立内容
</p>

<pre class="brush: javascript">
formData = {'id':'001' , 'name':'Jade'};
</pre>

<p>
提交请求
</p>

<pre class="brush: javascript">
$.post(url, formData,
    function(data, textStatus) {
        if('success' == textStatus ) {
            // 得到服务器成功响应
            // testStatus 为响应内容
        } else {
            // 提交失败
        }
    }
);
</pre>

<p>
服务器端Java响应
</p>

<pre class="brush: javascript">
response.setContentType("text/plain");
response.setCharacterEncoding("UTF-8");
response.getWriter().write(responseStr);
</pre>

<p>
form中只要有任意<code>&lt;button&gt;</code>或者<code>&lt;input type="submit" /&gt;</code>的按钮都会导致回车提交
</p>

<p>
上传的按钮改成这样
</p>

<p>
<code>&lt;input type="button" onclick="return ajaxFileUpload();" value="Upload" /&gt;</code>`
</p>

<p>
就不会触发自动提交了。
</p>

<p>
替换onClick事件：
</p>

<pre class="brush: javascript">
$(obj).unbind('click').removeAttr('onclick');
 
$(obj).bind("click",function(){
    like_old(itemId,obj);
});
</pre>

<pre class="brush: javascript">

</pre>

<pre class="brush: javascript">

</pre>

<pre class="brush: javascript">

</pre>

<pre class="brush: javascript">

</pre>
 </div>
</body>
</html>
