<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<script type="text/javascript" src="../../vimwiki-theme/3rd-libs/jquery-1.4.2.min.js"></script>

<link type="text/css" rel="stylesheet" href="../../vimwiki-theme/3rd-libs/hightlight-code/styles/shCore.css"/>
<link type="text/css" rel="stylesheet" href="../../vimwiki-theme/3rd-libs/hightlight-code/styles/shThemeDefault.css"/>
<script type="text/javascript" src="../../vimwiki-theme/3rd-libs/hightlight-code/scripts/shCore.js"></script>
<script type="text/javascript" src="../../vimwiki-theme/3rd-libs/hightlight-code/scripts/shAutoloader.js"></script>

<script type="text/javascript" src="../../vimwiki-theme/3rd-libs/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<script type="text/javascript" src="../../vimwiki-theme/templates/code-default/scripts/script.js"></script>
<link type="text/css" rel="stylesheet" href="../../vimwiki-theme/templates/code-default/styles/style.css" />


<title>Javascript</title>
</head>
<body  onresize='changeTocSize()'>
	<div class="note-main"> 


<h1>Javascript</h1>
<div class="toc">
<ul>
<li><a href="#toc_1">tips</a>
<li><a href="#toc_2">线上错误报告</a>
</ul>
</div>

<p>
基础：<a href="javascript.base.html">javascript.base</a>
</p>

<p>
风格：<a href="javascript.style.html">javascript.style</a>
</p>

<p>
正则：<a href="javascript.regex.html">javascript.regex</a>
</p>

<p>
性能：<a href="javascript.perform.html">javascript.perform</a>
</p>

<p>
例子：<a href="javascirpt.example.html">javascirpt.example</a>
</p>

<p>
模块化： <a href="javascript.module.html">javascript.module</a>
</p>

<p>
JQuery：<a href="JQuery.html">JQuery</a>
</p>

<p>
AngularJs：<a href="AngularJs.html">AngularJs</a>
</p>

<p>
ExtJs：<a href="ExtJS.html">ExtJS</a>
</p>

<p>
MathJax：<a href="MathJax.html">MathJax</a>
</p>

<p>
reveal.js： <a href="reveal.js.html">reveal.js</a>
</p>

<p>
Google Agent统计：<a href="ga.example.html">ga.example</a>
</p>

<h1 id="toc_1">tips</h1>




<h1 id="toc_2">线上错误报告</h1>

<p>
Javascript是一个动态语言，许多检查都是在运行时执行的，所以大多数错误只有执行到
的时候才能检查到，只能在发布前通过大量测试来发现。即使这样仍可能有少数没有
执行到的路径有错误，这只能通过线上错误报告来发现了。
</p>
	
<pre class="brush: javascript">
window.onerror = function (errorMsg, fileLoc, linenumber) {
    var s = 'url: ' + document.URL + '\nfile:  ' + fileLoc
        + '\nline number: ' + linenumber
        + '\nmessage: ' + errorMsg;
    Log.error(s);       // 发给服务器统计监控
    console.log(s);
};
</pre>

<p>
通常线上的Javascript都是经过了合并和压缩的，上报的文件名和行号基本上没法对应到
源代码，对查错帮助不是很大。不过最新版的Chrome支持在onerror的回调函数中获取
出错时的栈轨迹：<code>window.event.error.stack</code>.
</p>
 </div>
</body>
</html>
