<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<!--
<script type="text/javascript" src="../../vimwiki-theme/3rd-libs/jquery-1.4.2.min.js"></script>
-->
<script type="text/javascript" src="../../vimwiki-theme/3rd-libs/zepto-1.1.2.min.js"></script>

<link type="text/css" rel="stylesheet" href="../../vimwiki-theme/3rd-libs/hightlight-code/styles/shCore.css"/>
<link type="text/css" rel="stylesheet" href="../../vimwiki-theme/3rd-libs/hightlight-code/styles/shThemeDefault.css"/>
<script type="text/javascript" src="../../vimwiki-theme/3rd-libs/hightlight-code/scripts/shCore.js"></script>
<script type="text/javascript" src="../../vimwiki-theme/3rd-libs/hightlight-code/scripts/shAutoloader.js"></script>

<script type="text/javascript" src="../../vimwiki-theme/3rd-libs/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<script type="text/javascript" src="../../vimwiki-theme/templates/code-default/scripts/script.js"></script>
<link type="text/css" rel="stylesheet" href="../../vimwiki-theme/templates/code-default/styles/style.css" />


<title>Maven配置</title>
</head>
<body  onresize='changeTocSize()'>
	<div class="note-main"> 


<h1>Maven配置</h1>
<div class="toc">
<ul>
<li><a href="#toc_1">配置</a>
<li><a href="#toc_2">配置文件</a>
<ul>
<li><a href="#toc_2.1">HTTP代理</a>
</ul>
<li><a href="#toc_3">建立工程</a>
<li><a href="#toc_4">配置工程目录结构</a>
</ul>
</div>

<h1 id="toc_1">配置</h1>

<p>
环境变量<code>M2_HOME</code>指向安装根目录。
</p>

<p>
还有内存大小的分配：
</p>

<pre class="brush: bash">
set MAVEN_OPTS= -Xms128m -Xmx512m
</pre>

<p>
检查安装是否成功：
</p>

<pre class="brush: bash">
mvn -v
</pre>

<p>
如果有输出版本信息就安装正确。
</p>

<p>
初始化：
</p>

<pre class="brush: bash">
mvn help:system
</pre>

<h1 id="toc_2">配置文件</h1>

<p>
配置文件位置：<code>~/.m2/conf/settings.xml</code>
</p>

<h2 id="toc_2.1">HTTP代理</h2>

<pre class="brush: xml">
&lt;proxies&gt;
	&lt;proxy&gt;
		&lt;id&gt;my-proxy&lt;/id&gt;
		&lt;active&gt;true&lt;/active&gt;
		&lt;protocol&gt;http&lt;/protocol&gt;
		&lt;host&gt;218.14.227.197&lt;/host&gt;
		&lt;port&gt;3128&lt;/port&gt;
		&lt;username&gt;username&lt;/username&gt;
		&lt;password&gt;p@ssw0rd&lt;/password&gt;
		&lt;nonProxyHosts&gt;repository.mycom.com|*.google.com&lt;/nonProxyHosts&gt;
	&lt;/proxy&gt;
&lt;/proxies&gt;
</pre>




<h1 id="toc_3">建立工程</h1>

<p>
列出各种工程的模块，然后选一个：
</p>

<pre class="brush: bash">
mvn archetype:generate
</pre>

<h1 id="toc_4">配置工程目录结构</h1>

<p>
如果不用默认的目录结构，要自定义的话：
</p>

<pre class="brush: xml">
&lt;build&gt;
     &lt;!-- Java 源代码的路径配置 --&gt;
     &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;
     &lt;scriptSourceDirectory&gt;src/main/scripts&lt;/scriptSourceDirectory&gt;
     &lt;!-- 测试代码的路径配置 --&gt;
     &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;
     &lt;!-- 源码编译后的 class 文件的路径配置 --&gt;
     &lt;outputDirectory&gt;target/classes&lt;/outputDirectory&gt;
     &lt;!-- 测试源码编译后的 class 文件的路径配置 --&gt;
     &lt;testOutputDirectory&gt;target/test-classes&lt;/testOutputDirectory&gt;
     &lt;plugin&gt; .... &lt;/plugin&gt;
 &lt;/build&gt;
</pre>
 </div>
</body>
</html>
